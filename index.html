<html>
	<head>
		<title>FB API test</title>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
    	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    	<link rel="stylesheet" type="text/css" href="css/style.css">
	</head>
	<body>
		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId      : '1808086952764677',
		      xfbml      : true,
		      version    : 'v2.8'
		    });
		    FB.AppEvents.logPageView();
		    FB.getLoginStatus(function(response) {
		    	if(response.status === 'connected') {
		    		document.getElementById('status').innerHTML = 'Connected with the application';
		    		document.getElementById('login').style.display = 'none';
		    		FB.api('/me', function(response) {
  						console.log(response);
  						var a = response.name;
  						document.getElementById('user').innerHTML = "Welcome "+a;	
					});
		    	}
		    	else if (response.status === 'not_authorized') {
		    		document.getElementById('status').innerHTML = 'Not connected with the application';	
		    	} 
		    	else {
		    		document.getElementById('status').innerHTML = 'Not logged in with facebook';
		    	}
		    });

		  };

		  (function(d, s, id){
		     var js, fjs = d.getElementsByTagName(s)[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement(s); js.id = id;
		     js.src = "//connect.facebook.net/en_US/sdk.js";
		     fjs.parentNode.insertBefore(js, fjs);
		   }(document, 'script', 'facebook-jssdk'));

		  function login() {
		  	FB.login(function(response) {
		  		if(response.status === 'connected') {
		  			document.getElementById('status').innerHTML = 'Connected with the application';
		  			FB.api('/me', function(response) {
  						console.log(response);
  						var a = response.name;
  						console.log("a : " ,a);
  						document.getElementById('user').innerHTML = "Welcome "+a;
  						
					});
		    	}
		    	else if (response.status === 'not_authorized') {
		    		document.getElementById('status').innerHTML = 'Not connected with the application';	
		    	} 
		    	else {
		    		document.getElementById('status').innerHTML = 'Not logged in with facebook';
		    	}
		  	});
		  }
		</script>
		<header id="top" class="header">
        <div class="text-vertical-center">
            <h1>FB API Implementation</h1>
            <div id="status"></div>
            <div id="user"></div>
            <br>
            <button onclick="login()" class="btn btn-dark btn-lg" id="login">Log in</button>
        </div>
    	</header>
		
	</body>
</html>	